---
title: "Historial"
author: "Cesar"
date: "16/9/2019"
output: html_document
---

```{r}
#Se establecen las librerias
library(tidyverse)
library(lubridate)
library(textcat)

#Se obtiene el archivo excel y se convierte a dataframe
his <- read_csv("C:/Users/G50/Desktop/SRBCC/SRBCC/Datasets_Originales/ORIGINAL_HISTORIAL.csv", locale = readr::locale(encoding = "latin1"))

#his <- data.frame(lapply(his, as.character), stringsAsFactors=FALSE)

#Se utiliza para verificar la estructura del dataset
#str(his)

# Se cuenta el numero lineas que contiene el dataset
nrow(his)

#Elimina las bibliotecas que no pertenecen a Ciudad del conocimiento
BCC <- his[grepl("BCC", his$Ubicacion),]
nrow(BCC)
oBCC <- BCC[!grepl("SRBCC", BCC$Ubicacion),]

#Se arreglan errores respecto a la columna CARRERA

#Elimina los espacios del principio de la columna carrera
oBCC$Carrera <- str_squish(oBCC$Carrera)

oBCC$Carrera <- gsub("á", "a", oBCC$Carrera)
oBCC$Carrera <- gsub("é", "e", oBCC$Carrera)
oBCC$Carrera <- gsub("í", "i", oBCC$Carrera)
oBCC$Carrera <- gsub("ó", "o", oBCC$Carrera)
oBCC$Carrera <- gsub("ú", "u", oBCC$Carrera)



str(oBCC)
try <- oBCC
try['ISBN']
str(try)

#Corrigen datos de la columna ISBN
oBCC$ISBN <- str_sub(try$ISBN, end = 13)
oBCC$ISBN <- gsub("[a-z, A-Z, ?]*", "", oBCC$ISBN)
oBCC$ISBN <- gsub("[-, !, @, #, $, %, ^, &, , *, :, -, ., ;, /]", "", oBCC$ISBN)

#--------- Reading the data
#uacj_library <- read_csv("C:/Users/G50/Documents/R pRogRams/RecommenderSystem/Historial.csv", 
 #                        locale = readr::locale(encoding = "latin1"))

#oBCC %>% glimpse()


#oBCC %>% View()

#write.csv(oBCC, file = "historial_clean.csv")

oBCC <- oBCC[!grepl("( tiene otra mat )", oBCC$Carrera),]
oBCC <- oBCC[!grepl("ACTUALIZAR DATOS, DIRECCION, CORREO ELECTRONICO, ETC", oBCC$Carrera),] 
oBCC <- oBCC[!grepl("(con mat )", oBCC$Carrera),] 
oBCC <- oBCC[!grepl("Adeuda pesos", oBCC$Carrera),]
oBCC <- oBCC[!grepl("CATEDRATICO", oBCC$Carrera),]
oBCC <- oBCC[!grepl("DIRECTOR DE LA DIVISION MULTIDISCIPLINARIA DE LA UACJ-NCG", oBCC$Carrera),]
oBCC <- oBCC[!grepl("docente", oBCC$Carrera),]
oBCC <- oBCC[!grepl("DOCENTE", oBCC$Carrera),]
oBCC <- oBCC[!grepl("DOCENTE DE ENTRENAMIENTO DEPORTIVO", oBCC$Carrera),]
oBCC <- oBCC[!grepl("DOCENTE E INVESTIGADOR", oBCC$Carrera),]
oBCC <- oBCC[!grepl("DOCENTES BIC", oBCC$Carrera),]
oBCC <- oBCC[!grepl("hola", oBCC$Carrera),]
oBCC <- oBCC[!grepl("LIC. EN NUTRICION", oBCC$Carrera),]
oBCC <- oBCC[!grepl("M?dico Cirujano", oBCC$Carrera),]
oBCC <- oBCC[!grepl("Maestria en Cultura e Investigación Lite/al@alumnos.uacj.mx/	", oBCC$Carrera),]
oBCC <- oBCC[!grepl("NO PRESTAR HASTA QUE HABLE CON DANIEL CRUZ", oBCC$Carrera),]
oBCC <- oBCC[!grepl("PERSONAL DOCENTE.", oBCC$Carrera),]
oBCC <- oBCC[!grepl('OBRA DAÑADA POR EL USUARIO. SE MANDARA A EVALUAR"', oBCC$Carrera),]
oBCC <- oBCC[!grepl("Licenciatura en Administracion y Gestion de PYMES", oBCC$Carrera),]
oBCC <- oBCC[!grepl("Licenciatura en Ingenieria en Energia y Mantenimiento Industrial", oBCC$Carrera),]
oBCC <- oBCC[!grepl("PERSONAL ADMINISTRATIVO", oBCC$Carrera),]
oBCC <- oBCC[!grepl("PEDIR DATOS, DIRECCION, CORREO ELECTORONICO, ETC...", oBCC$Carrera),]
oBCC <- oBCC[!grepl("mtria. en estudios literarios", oBCC$Carrera),]
oBCC <- oBCC[!grepl("MEDICO FARMACO BIOLOGO", oBCC$Carrera),]
oBCC <- oBCC[!grepl("MEDICO CIRUJANO", oBCC$Carrera),]
oBCC <- oBCC[!grepl("personal administrativo", oBCC$Carrera),]
oBCC <- oBCC[!grepl("P. MED. VETERINARIO ZOOTECNISTA", oBCC$Carrera),]
oBCC <- oBCC[!grepl("Licenciatura en Diseño Industrial", oBCC$Carrera),]
oBCC <- oBCC[!grepl("Licenciatura en Diseño Urbano y del Paisaje", oBCC$Carrera),]
oBCC <- oBCC[!grepl("Licenciatura en Matematicas", oBCC$Carrera),]
oBCC <- oBCC[!grepl("maestria en derecho empresarial", oBCC$Carrera),]
oBCC <- oBCC[!grepl("Maestria en Estudios y Gestion Ambiental", oBCC$Carrera),]
oBCC <- oBCC[!grepl("Maestria en Educacion", oBCC$Carrera),]


#oBCC$Carrera %>% View()
oBCC$Carrera <- gsub("Programa de ", "", oBCC$Carrera)
oBCC$Carrera <- gsub("HECHO", "", oBCC$Carrera)
oBCC$Carrera <- gsub("[0-9]*", "", oBCC$Carrera)
oBCC$Carrera <- gsub("HEHCO", "", oBCC$Carrera)
oBCC$Carrera <- gsub("Lic.", "Licenciatura", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciaturanciatura", "Licenciatura", oBCC$Carrera)
                      
oBCC$Carrera <- gsub("(Titulacion) Licenciatura en Contaduria", "Licenciatura en Contaduria", oBCC$Carrera)

oBCC$Carrera <- gsub("Ingenieria de Software MATRÍCULA PREVIAMENTE TRABAJADA BCC //
", "Ingenieria de Software", oBCC$Carrera)

oBCC$Carrera <- gsub("HEHCO  ", "", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Literatura-Hispanomexicana", "Licenciatura en Literatura Hispanomexicana", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura Periodismo", "Licenciatura en Periodismo", oBCC$Carrera)
oBCC$Carrera <- gsub("Carrera de Licenciaturanciado", "Licenciatura ", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura Administracion de Empresas", "Licenciatura en Administracion de Empresas", oBCC$Carrera)
oBCC$Carrera <- gsub("P. LIC. DERECHO", "Licenciatura en Derecho", oBCC$Carrera)
oBCC$Carrera <- gsub("Maestr¡a en Administraci¢n", "Maestria en Administración", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura de Diseno Industrial", "Licenciatura de Diseño Industrial", oBCC$Carrera)
oBCC$Carrera <- gsub("Arquitectura", "Licenciatura en Arquitectura", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Ingeniería Mecánica", "Ingeniería Mecánica", oBCC$Carrera)
oBCC$Carrera <- gsub("ING. SISTEMAS DIGITALES Y COMUNICACIONES", "Ingeniería en Sistemas Digitales", oBCC$Carrera)
oBCC$Carrera <- gsub("Diseño digital", "Licenciatura en Diseño Digital de Medios Interactivos", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Ingeniería Mecánica", "Ingeniería Mecánica", oBCC$Carrera)
oBCC$Carrera <- gsub("QUIMICO FARMACO BIOLOGO", "Licenciatura en Químico Farmacéutico Biólogo", oBCC$Carrera)
oBCC$Carrera <- gsub("QFB", "Licenciatura en Químico Farmacéutico Biólogo", oBCC$Carrera)
oBCC$Carrera <- gsub("Contabilidad", "Contaduría", oBCC$Carrera)
oBCC$Carrera <- gsub("P LIC. NUTRICION", "Licenciatura en Nutrición", oBCC$Carrera)
oBCC$Carrera <- gsub("P. LIC. NUTRICION", "Licenciatura en Nutrición", oBCC$Carrera)
oBCC$Carrera <- gsub("Médico Cirujano", "Licenciatura en Médico Cirujano", oBCC$Carrera)
oBCC$Carrera <- gsub("Maestr¡a en Educaci¢n ", "Maestria en Educación ", oBCC$Carrera)
oBCC$Carrera <- gsub("¡", "i", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Ingeniería Ambiental", "Ingeniería Ambiental", oBCC$Carrera)
oBCC$Carrera <- gsub("Mtria.", "Maestría", oBCC$Carrera)
oBCC$Carrera <- gsub("LIC. EN FINANZAS", "Licenciatura en Finanzas", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura Medico Cirujano", "Licenciatura en Medico Cirujano", oBCC$Carrera)
oBCC$Carrera <- gsub("programa lic.", "Licenciatura", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Matem ticas", "Ingenieria en Matematicas", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Ingeniería en Energía y Mantenimiento Industrial", "Ingeniería en Energía y Mantenimiento Industrial", oBCC$Carrera)
oBCC$Carrera <- gsub("¢", "ó", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciaturanciado", "Licenciatura", oBCC$Carrera)
oBCC$Carrera <- gsub("Carrera de Ingeniero Electricista", "Ingeniería Electrica", oBCC$Carrera)
oBCC$Carrera <- gsub("Cirujano Dentista", "Licenciatura en Cirujano Dentista", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura de Diseno Indus/al@alumnos.uacj.mx/", "Licenciatura en Diseño Industrial", oBCC$Carrera)
oBCC$Carrera <- gsub("Carrera de Arquitecto", "Licenciatura en arquitectura", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Qimico Farmaco Biologo", "Licenciatura en Químico Fármaco Biólogo", oBCC$Carrera)
#oBCC$Instituto <- gsub("HEHCO", "", oBCC$Instituto)


oBCC$Carrera <- gsub(". Ingenieria Industrial y de Sistemas", "Ingenieria Industrial y de Sistemas", oBCC$Carrera)
oBCC$Carrera <- gsub(". Licenciatura en Administracion de Empresas", "Licenciatura en Administracion de Empresas", oBCC$Carrera)
oBCC$Carrera <- gsub(". Licenciatura en Comercio Exterior", "Licenciatura en Comercio Exterior", oBCC$Carrera)
oBCC$Carrera <- gsub(". Licenciatura en Enfermeria", "", oBCC$Carrera)
oBCC$Carrera <- gsub("Administracion de Empresas", "Licenciatura en Administracion de Empresas", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Dise¤o Gr fico", "Licenciatura en Diseño Grafico", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Diseño Gfico", "Licenciatura en Diseño Grafico", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Historia de Mexico", "Licenciatura en Historia", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en arquitectura", "Licenciatura en Arquitectura", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Comercio Exterior - cambio de carrera a Derecho", "Licenciatura en Comercio Exterior", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Dise¤o de Interiores", "Licenciatura en Diseño de Interiores", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Quimico Farmaco Biologo", "Licenciatura en Quimico Farmaceutico Biologo", oBCC$Carrera)
oBCC$Carrera <- gsub("Medico Veterinario Zootecnista", "Licenciatura en Medico Veterinario Zootecnista", oBCC$Carrera)
oBCC$Carrera <- gsub("O Licenciatura en Educacion", "Licenciatura en Educacion", oBCC$Carrera)
oBCC$Carrera <- gsub("OIngenieria en Mecatronica", "Ingenieria en Mecatronica", oBCC$Carrera)

oBCC$Carrera <- gsub("P.LIC. QUIMICA", "Licenciatura en Quimica", oBCC$Carrera)
oBCC$Carrera <- gsub("P.MED. VETERINARIO ZOOTECNISTA", "Licenciatura en Medico Veterinario Zootecnista", oBCC$Carrera)
oBCC$Carrera <- gsub("[(]Titulacion[)] Licenciatura en Contaduria", "Licenciatura en Contaduria", oBCC$Carrera)
oBCC$Carrera <- gsub("Ingenieria de Software MATRÍCULA PREVIAMENTE TRABAJADA BCC [//]", "Ingenieria de Software", oBCC$Carrera)
oBCC$Carrera <- gsub("Ingenieria de Software[/]", "Ingenieria de Software", oBCC$Carrera)
oBCC$Carrera <- gsub("[.]", "", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Diseño Grafico [(]semipresencial[)]", "Licenciatura en Diseño Grafico", oBCC$Carrera)
oBCC$Carrera <- gsub("Maestria en Cultura e Investigacion Lite[/]al[@}alumnosuacjmx[/]", "Maestria en Cultura e Investigacion", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Licenciatura en Administracion de Empresas", "Licenciatura en Administracion de Empresas", oBCC$Carrera)
oBCC$Carrera <- gsub("Maestria en Cultura e Investigacionalumnosuacjmx[/]", "Maestria en Cultura e Investigacion", oBCC$Carrera)

oBCC$Carrera <- gsub("Licenciatura eLicenciatura en Administracion de Empresas", "Licenciatura en Administracion de Empresas", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Licenciatura en Arquitectura", "Licenciatura en Arquitectura", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Licenciatura en Cirujano Dentista	", "Licenciatura en Cirujano Dentista		", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura en Licenciatura en Medico Veterinario Zootecnista", "Licenciatura en Medico Veterinario Zootecnista", oBCC$Carrera)


oBCC$Carrera <- gsub("Licenciatura de Diseño Industrial", "Licenciatura en Diseño Industrial", oBCC$Carrera)
oBCC$Carrera <- gsub("Licenciatura de Economia", "Licenciatura en Economia", oBCC$Carrera)





#oBCC$test <- instituto(oBCC$Carrera) 

#oBCC$test %>% glimse() 

#oBCC %>% View()

#Se crea la columna instituto
oBCC$Instituto<- NA

oBCC$Instituto <- oBCC$Carrera

#variable utilizada para visualizar los datos

oBCC %>% select(4,6) %>% View()


#Se asocia el instituto IIT a las carreras que pertenecen ahi
oBCC$Instituto <- gsub("Ingenieria en Sistemas Automotrices", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria Civil", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria Industrial y de Sistemas", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria de Software", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria en Matematicas", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria en Sistemas Computacionales", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria Industrial y de Sistemas", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria en Mecatronica", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Ingenieria Industrial", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria Mecanica", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria en Sistemas Digitales", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria Ambiental", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria en Energia y Mantenimiento Industrial", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria Electrica", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria Biomedica", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria Telematica", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Doctorado en Ciencias en Ingenieria", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria en Sistemas Digitales", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en IIT", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("IIT y Comunicaciones", "IIT", oBCC$Instituto)

oBCC$Instituto <- gsub("Doctorado en Ciencias de los Materiales", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria en Aeronautica", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria en Manufactura", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Ingenieria Fisica", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Ciencias de los Materiales", "IIT", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en IIT", "IIT", oBCC$Instituto)


#Se asocia el instituto ICSA a las carreras que pertenecen ahi
oBCC$Instituto <- gsub("Licenciatura en Derecho", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("programa lic. en Derecho", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("P. LIC. DERECHO", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Educacion ", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Educacion ", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Psicologia", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Carrera de Licenciaturanciado en Psícologia", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Educacion", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Trabajo Social", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Periodismo", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura Periodismo", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Comercio Exterior", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Psicologia", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura  en Administracion de Empresas", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Administracion de Empresas", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Turismo", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Contaduria", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Pedagogia del Ingles como segunda lengua", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Literatura Hispanomexicana", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Enseñanza del Ingles", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Finanzas", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura Administracion de Empresas", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Carrera de Licenciaturanciado en Administración de Empresas", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Administracion", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Historia", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Economia", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Finanzas", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Sociologia", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Psicologia", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Arquitectura", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Carrera de Licenciaturanciado de Economia", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en investigacion educativa", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Doctorado en Psicologia", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Ciencias Economicas", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Ciencias Sociales", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Cultura e Investigacion", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Educacion	", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Estudios y Gestion Ambiental	", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Filosofia", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Investigacion Juridica", "ICSA", oBCC$Instituto)
oBCC$Instituto <- gsub("ICSAFisica", "ICSA", oBCC$Instituto)

#Se asocia el instituto IADA a las carreras que pertenecen ahi
oBCC$Instituto <- gsub("Licenciatura en Diseño Grafico", "IADA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Diseño Industrial", "IADA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura de Diseno Indus/al@alumnos.uacj.mx/", "IADA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Publicidad", "IADA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Diseño de Interiores", "IADA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Arquitectura", "IADA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Diseño Digital de Medios Interactivos", "IADA", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Estudios y Procesos Creativos", "IADA", oBCC$Instituto)
oBCC$Instituto <- gsub("Diseño digital", "IADA", oBCC$Instituto)
oBCC$Instituto <- gsub("Carrera de Licenciaturanciado en Diseño Grafico", "IADA", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Ciencias de la Seguridad", "IADA", oBCC$Instituto)
oBCC$Instituto <- gsub("IADA en Arte y Diseño", "IADA", oBCC$Instituto)


#Se asocia el instituto ICB a las carreras que pertenecen ahi
oBCC$Instituto <- gsub("Licenciatura en Gerontologia", "ICB", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Nutricion", "ICB", oBCC$Instituto)
oBCC$Instituto <- gsub("P. LIC. NUTRICION", "ICB", oBCC$Instituto)
oBCC$Instituto <- gsub("P LIC. NUTRICION", "ICB", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Enfermeria", "ICB", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Quimico Farmaceutico Biologo", "ICB", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Quimico Farmaco Biologo", "ICB", oBCC$Instituto)
oBCC$Instituto <- gsub("QUIMICO FARMACO BIOLOGO", "ICB", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Entrenamiento Deportivo", "ICB", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Medico Veterinario Zootecnista", "ICB", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Biologia", "ICB", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Cirujano Dentista", "ICB", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Quimica", "ICB", oBCC$Instituto)
oBCC$Instituto <- gsub("Licenciatura en Biologia", "ICB", oBCC$Instituto)

oBCC$Instituto <- gsub("Licenciatura en ICB", "ICB", oBCC$Instituto)
oBCC$Instituto <- gsub("Maestria en Ciencias de la Salud Publica", "ICB", oBCC$Instituto)

  #Cambia la columna de idioma a SPANISH
oBCC %>% select(1,6) %>% View()


  oBCC$language_reference <- gsub("latin", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("romanian", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("catalan", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("rumantsch", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("portuguese", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("tagalog", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("basque", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("italian", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("swahili", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("esperanto", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("serbian-ascii", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("slovak-windows1250", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("bosnian", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("croatian-ascii", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("estonian", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("finnish", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("latvian", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("lithuanian", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("icelandic", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("norwegian", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("sanskrit", "spanish", oBCC$language_reference)
  oBCC$language_reference <- gsub("slovenian-iso8859_2", "spanish", oBCC$language_reference)
  
  #Cambia la seccion idioma a ENGLISH
    oBCC$language_reference <- gsub("middle_english", "english", oBCC$language_reference)
    oBCC$language_reference <- gsub("polish", "english", oBCC$language_reference)
    oBCC$language_reference <- gsub("scots_gaelic", "english", oBCC$language_reference)
    oBCC$language_reference <- gsub("swedish", "english", oBCC$language_reference)
    oBCC$language_reference <- gsub("slovak-ascii", "english", oBCC$language_reference)
    oBCC$language_reference <- gsub("frisian", "english", oBCC$language_reference)
    oBCC$language_reference <- gsub("manx", "english", oBCC$language_reference)
    oBCC$language_reference <- gsub("afrikaans", "english", oBCC$language_reference)
    oBCC$language_reference <- gsub("welsh", "english", oBCC$language_reference)
    
    oBCC$language_reference <- gsub("breton", "english", oBCC$language_reference)
    oBCC$language_reference <- gsub("danish", "english", oBCC$language_reference)
    oBCC$language_reference <- gsub("french", "english", oBCC$language_reference)
    oBCC$language_reference <- gsub("hungarian", "english", oBCC$language_reference)
    oBCC$language_reference <- gsub("irish", "english", oBCC$language_reference)
    oBCC$language_reference <- gsub("scots", "english", oBCC$language_reference)
  
    oBCC %>% View()
    
#oBCC$language_reference <- gsub("", "spanish", oBCC$language_reference)
#str(oBCC)
#lalal <-  oBCC$language_reference <- as.factor(oBCC$language_reference)
#str(lalal)
# oBCC %>% filter(oBCC$language_reference == "german") %>% View()
#levels(lalal)
#oBCC$language_reference <- gsub("latin", "spanish", oBCC$language_reference)
#oBCC$language_reference <- gsub("romanian", "esperando", "spanish", #oBCC$language_reference)

    
write.csv(oBCC, file = "Clean_Datasets/historial_clean.csv")


oBCC %>%
  count(Carrera)

ggplot(data = oBCC) +
  geom_bar(mapping = aes(x = Carrera))
    
    
oBCC %>% count(Carrera)

#ggplot(data = oBCC) +
 # geom_bar(mapping = aes(x = Carrera))
#Limpiano columna Carrera

 
oBCC %>% View()






#oBCC$Carrera <-tolower(oBCC$Carrera)

oBCC %>% count(Carrera)

oBCC %>% count(Instituto)
```

